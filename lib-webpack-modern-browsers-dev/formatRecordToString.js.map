{"version":3,"sources":["../src/formatRecordToString.js"],"names":["levelToSymbol","levelToStyles","formatObject","formatRecordToString","record","style","parts","displayName","push","key","datetime","toTimeString","split","message","symbol","level","styles","forEach","stringObject","join"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,iBAA1B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,eAAe,SAASC,oBAAT,CAA8BC,MAA9B,EAAsCC,KAAtC,EAAsD;AACnE,MAAIC,UAAJ;;AAEA,MAAIF,OAAOG,WAAX,EAAwB;AACtBD,UAAME,IAAN,CAAWH,sBAAsBD,OAAOG,WAA7B,CAAX;AACD,GAFD,MAEO,IAAIH,OAAOK,GAAX,EAAgB;AACrBH,UAAME,IAAN,CAAWH,sBAAsBD,OAAOK,GAA7B,CAAX;AACD;;AAED,MAAIL,OAAOM,QAAX,EAAqB;AACnBJ,UAAME,IAAN,CAAWH,wBAAwBD,OAAOM,QAAP,CAAgBC,YAAhB,GAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,CAAxB,CAAX;AACI;AACL;;AAED,MAAIC,UAAUT,OAAOU,MAAP,IAAiBd,cAAcI,OAAOW,KAArB,CAA/B;AACA,MAAIC,SAASZ,OAAOY,MAAP,IAAiBf,cAAcG,OAAOW,KAArB,CAA9B;;AAEA,MAAIX,OAAOS,OAAX,EAAoB;AAClB,QAAIA,OAAJ,EAAa;AACXA,iBAAY,IAAGT,OAAOS,OAAQ,EAA9B;AACD,KAFD,MAEO;AACLA,gBAAUT,OAAOS,OAAjB;AACD;AACF;;AAED,MAAIA,OAAJ,EAAa;AACX,QAAIG,MAAJ,EAAY;AACVH,gBAAUR,MAAMW,MAAN,EAAcH,OAAd,CAAV;AACD;AACDP,UAAME,IAAN,CAAWK,OAAX;AACD;;AAED,mCAAiCI,OAAjC,CAAyC,eAAO;AAC9C,QAAI,CAACb,OAAOK,GAAP,CAAL,EAAkB;AAChB;AACD;;AAED,UAAMS,eAAehB,aAAaE,OAAOK,GAAP,CAAb,EAA0BJ,KAA1B,EAAiCD,OAAQ,GAAEK,GAAI,QAAd,CAAjC,CAArB;;AAEA,QAAI,CAACS,YAAL,EAAmB;AACjB;AACD;;AAEDZ,UAAME,IAAN,CAAWU,YAAX;AACD,GAZD;;AAcA,SAAOZ,MAAMa,IAAN,CAAW,GAAX,CAAP;AACD","file":"formatRecordToString.js","sourcesContent":["import levelToSymbol from './levelToSymbol';\nimport levelToStyles from './levelToStyles';\nimport formatObject from './formatObject';\n\nexport default function formatRecordToString(record, style, options) {\n  let parts = [];\n\n  if (record.displayName) {\n    parts.push(style(['gray-light'], record.displayName));\n  } else if (record.key) {\n    parts.push(style(['gray-light'], record.key));\n  }\n\n  if (record.datetime) {\n    parts.push(style(['gray', 'bold'], record.datetime.toTimeString().split(' ')[0]));\n        /* new Date().toFormat('HH24:MI:SS') */\n  }\n\n  let message = record.symbol || levelToSymbol[record.level];\n  let styles = record.styles || levelToStyles[record.level];\n\n  if (record.message) {\n    if (message) {\n      message += ` ${record.message}`;\n    } else {\n      message = record.message;\n    }\n  }\n\n  if (message) {\n    if (styles) {\n      message = style(styles, message);\n    }\n    parts.push(message);\n  }\n\n  ['metadata', 'extra', 'context'].forEach(key => {\n    if (!record[key]) {\n      return;\n    }\n\n    const stringObject = formatObject(record[key], style, record[`${key}Styles`]);\n\n    if (!stringObject) {\n      return;\n    }\n\n    parts.push(stringObject);\n  });\n\n  return parts.join(' ');\n}\n"]}