{"version":3,"sources":["../src/formatRecordToString.js"],"names":[],"mappings":"AAAA,OAAO,aAAP,MAA0B,iBAA1B;AACA,OAAO,aAAP,MAA0B,iBAA1B;AACA,OAAO,YAAP,MAAyB,gBAAzB;;AAEA,eAAe,SAAS,oBAAT,CAA8B,MAA9B,EAAsC,KAAtC,EAA6C,OAA7C,EAAsD;AACjE,QAAI,QAAQ,EAAZ;;AAEA,QAAI,OAAO,WAAX,EAAwB;AACpB,cAAM,IAAN,CAAW,MAAM,CAAC,YAAD,CAAN,EAAsB,OAAO,WAA7B,CAAX;AACH,KAFD,MAEO,IAAI,OAAO,GAAX,EAAgB;AACnB,cAAM,IAAN,CAAW,MAAM,CAAC,YAAD,CAAN,EAAsB,OAAO,GAA7B,CAAX;AACH;;AAED,QAAI,OAAO,QAAX,EAAqB;AACjB,cAAM,IAAN,CAAW,MAAM,CAAC,MAAD,EAAS,MAAT,CAAN,EAAwB,OAAO,QAAP,CAAgB,YAAhB,GAA+B,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,CAAxB,CAAX;AACA;AACH;;AAED,QAAI,UAAU,OAAO,MAAP,IAAiB,cAAc,OAAO,KAArB,CAA/B;AACA,QAAI,SAAS,OAAO,MAAP,IAAiB,cAAc,OAAO,KAArB,CAA9B;;AAEA,QAAI,OAAO,OAAX,EAAoB;AAChB,YAAI,OAAJ,EAAa;AACT,uBAAY,KAAG,OAAO,OAAQ,GAA9B;AACH,SAFD,MAEO;AACH,sBAAU,OAAO,OAAjB;AACH;AACJ;;AAED,QAAI,OAAJ,EAAa;AACT,YAAI,MAAJ,EAAY;AACR,sBAAU,MAAM,MAAN,EAAc,OAAd,CAAV;AACH;AACD,cAAM,IAAN,CAAW,OAAX;AACH;;AAED,KAAC,UAAD,EAAa,OAAb,EAAsB,SAAtB,EAAiC,OAAjC,CAAyC,OAAO;AAC5C,YAAI,CAAC,OAAO,GAAP,CAAL,EAAkB;AACd;AACH;;AAED,YAAM,eAAe,aAAa,OAAO,GAAP,CAAb,EAA0B,KAA1B,EAAiC,OAAQ,IAAE,GAAI,SAAd,CAAjC,CAArB;;AAEA,YAAI,CAAC,YAAL,EAAmB;AACf;AACH;;AAED,cAAM,IAAN,CAAW,YAAX;AACH,KAZD;;AAcA,WAAO,MAAM,IAAN,CAAW,GAAX,CAAP;AACH","file":"formatRecordToString.js","sourcesContent":["import levelToSymbol from './levelToSymbol';\nimport levelToStyles from './levelToStyles';\nimport formatObject from './formatObject';\n\nexport default function formatRecordToString(record, style, options) {\n    let parts = [];\n\n    if (record.displayName) {\n        parts.push(style(['gray-light'], record.displayName));\n    } else if (record.key) {\n        parts.push(style(['gray-light'], record.key));\n    }\n\n    if (record.datetime) {\n        parts.push(style(['gray', 'bold'], record.datetime.toTimeString().split(' ')[0]));\n        /* new Date().toFormat('HH24:MI:SS') */\n    }\n\n    let message = record.symbol || levelToSymbol[record.level];\n    let styles = record.styles || levelToStyles[record.level];\n\n    if (record.message) {\n        if (message) {\n            message += ` ${record.message}`;\n        } else {\n            message = record.message;\n        }\n    }\n\n    if (message) {\n        if (styles) {\n            message = style(styles, message);\n        }\n        parts.push(message);\n    }\n\n    ['metadata', 'extra', 'context'].forEach(key => {\n        if (!record[key]) {\n            return;\n        }\n\n        const stringObject = formatObject(record[key], style, record[`${key}Styles`]);\n\n        if (!stringObject) {\n            return;\n        }\n\n        parts.push(stringObject);\n    });\n\n    return parts.join(' ');\n}\n"]}